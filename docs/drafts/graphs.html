<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brains@Play Docs</title>
    <style>
* {
  box-sizing: border-box;
}

html, body {
    margin: 0;
    padding: 0;
    height: 100vh;
    width: 100vw;
}

body {
  padding: 0px 50px;
}
</style>
    <link rel=stylesheet href="../static/custom.css"/>
    <link rel="icon" href="../static/img/favicon.ico" type="image/x-icon" />
</head>
<body>
    <nav></nav>
    <h1 id="gettingstartedwithgraphs">Getting Started with Graphs</h1>
<p>To create a graph, simply use the <code>Graph</code> class.</p>
<p>``` javascript 
    let graph = new brainsatplay.Graph();</p>
<pre><code>Then populate the graph with nodes.
</code></pre>
<p>javascript 
    // -------------------------------------------------------------------------
    let upstreamProps = {
      tag:'upstream',
      increment:1,
      multiplier:2,
      operator:(input,self)=&gt;{
        let output =  self.multiplier*(input + self.increment);
       console.log(<code>Upstream: ${self.multiplier}*(${input} + ${self.increment}) = ${output}</code>)<br />
       return output;
      }
    }</p>
<pre><code>let upstream2 = graph.add(upstreamProps);
let downstream2 = graph.create((input,self)=&gt;{
  const output = input+1;
  console.log(`Downstream: ${input} + ${1} = ${output}`)        
  return output;
}); //add a tag to make it easier to find

//subscribe a node
let sub = upstream2.subscribeNode(downstream2);
//upstream2.unsubscribe(sub);

//subscribe a function
let sub2 = upstream2.subscribe((output)=&gt;{console.log('upstream output: ', output);});
//upstream2.unsubscribe(sub2);


upstream2.increment = 3;
upstream2.multiplier = 10;
upstream2.run(5); //run with an input

// -------------------------------------------------------------------------
let json = upstream2.print()
let json2 = downstream2.print()
let reconstructed1 = graph.reconstruct(json);
let reconstructed2 = graph.reconstruct(json2);
reconstructed1.subscribe(reconstructed2);
reconstructed1.run(5);


// -------------------------------------------------------------------------
upstreamProps.tag = 'upstream3';
let upstream3 = new Process(upstreamProps,undefined,graph);
upstream3.run(6)


// -------------------------------------------------------------------------

let flow = {
  tag:'upstream2',
  increment:1,
  multiplier:2,
  operator:(input,self)=&gt;{
    let output =  self.multiplier*(input + self.increment);
   console.log(`Upstream: ${self.multiplier}*(${input} + ${self.increment}) = ${output}`)        
   return output;
  },
  forward:true,
  children:{
    tag:'downstream2',
    operator:(input,self)=&gt;{
      const output = input+1;
      console.log(`Downstream: ${input} + ${1} = ${output}`)        
      return output;
    }
  }
}

let flowNode = new Process(flow,undefined,graph);
let res = await flowNode.run(6);

// -------------------------------------------------------------------------
let res2 = await graph.run('upstream2',7);
console.log(res,res2);
</code></pre>
<p>```</p>
    <footer></footer>
</body>
</html>