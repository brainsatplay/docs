<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brains@Play Docs</title>
    <link rel=stylesheet href="../../.docs/default.css"/>
    <link rel=stylesheet href="../../static/custom.css"/>
    <link rel="icon" href="../../static/img/favicon.ico" type="image/x-icon" />
</head>
<body>
    <header>
        <nav><h1>Brains@Play</h1></nav>
    </header>
    <div id="brainsatplay-docs-main">
        <div id="brainsatplay-docs-sidebar"><ul><a href="../../projects.html"><li>Home</li></a><li>Repos</li><ul><a href="../../repos/index.html"><li>Main  Page</li></a><li>Accessify</li><ul><a href="../../repos/accessify/index.html"><li>Main  Page</li></a></ul><li>Brainsatplay</li><ul><a href="../../repos/brainsatplay/index.html"><li>Main  Page</li></a><li>Src</li><ul><li>Core</li><ul><a href="../../repos/brainsatplay/src/core/index.html"><li>Main  Page</li></a></ul></ul></ul><li>Components</li><ul><a href="../../repos/components/index.html"><li>Main  Page</li></a></ul><li>Datastreams Api</li><ul><a href="../../repos/datastreams-api/index.html"><li>Main  Page</li></a></ul><li>Docs</li><ul><a href="../../repos/docs/index.html"><li>Main  Page</li></a><li>Old</li><ul><li>Docs</li><ul><a href="../../repos/docs/old/docs/index.html"><li>Main  Page</li></a><li>Guides</li><ul><a href="../../repos/docs/old/docs/guides/index.html"><li>Main  Page</li></a><li>Libraries</li><ul><a href="../../repos/docs/old/docs/guides/libraries/index.html"><li>Main  Page</li></a></ul></ul><li>Resources</li><ul><a href="../../repos/docs/old/docs/resources/Algorithms.html"><li>Algorithms</li></a><a href="../../repos/docs/old/docs/resources/Biosignals.html"><li>Biosignals</li></a><a href="../../repos/docs/old/docs/resources/BrainScience.html"><li>Brain Science</li></a><a href="../../repos/docs/old/docs/resources/Electronics.html"><li>Electronics</li></a><a href="../../repos/docs/old/docs/resources/GeneralEngineering.html"><li>General Engineering</li></a><a href="../../repos/docs/old/docs/resources/ParticipatoryResearch.html"><li>Participatory Research</li></a><a href="../../repos/docs/old/docs/resources/Psychology.html"><li>Psychology</li></a><a href="../../repos/docs/old/docs/resources/index.html"><li>Main  Page</li></a><li>Software</li><ul><a href="../../repos/docs/old/docs/resources/software/C++.html"><li>C++</li></a><a href="../../repos/docs/old/docs/resources/software/Applications.html"><li>Applications</li></a><a href="../../repos/docs/old/docs/resources/software/Julia.html"><li>Julia</li></a><a href="../../repos/docs/old/docs/resources/software/Javascript.html"><li>Javascript</li></a><a href="../../repos/docs/old/docs/resources/software/MATLAB.html"><li>MATLAB</li></a><a href="../../repos/docs/old/docs/resources/software/Python.html"><li>Python</li></a><a href="../../repos/docs/old/docs/resources/software/index.html"><li>Main  Page</li></a></ul><li>Hardware</li><ul><a href="../../repos/docs/old/docs/resources/hardware/Development.html"><li>Development</li></a><a href="../../repos/docs/old/docs/resources/hardware/ECG.html"><li>ECG</li></a><a href="../../repos/docs/old/docs/resources/hardware/EDA.html"><li>EDA</li></a><a href="../../repos/docs/old/docs/resources/hardware/EEG.html"><li>EEG</li></a><a href="../../repos/docs/old/docs/resources/hardware/EMG.html"><li>EMG</li></a><a href="../../repos/docs/old/docs/resources/hardware/FNIRS.html"><li>FNIRS</li></a><a href="../../repos/docs/old/docs/resources/hardware/Microscopy.html"><li>Microscopy</li></a><a href="../../repos/docs/old/docs/resources/hardware/PPG.html"><li>PPG</li></a><a href="../../repos/docs/old/docs/resources/hardware/index.html"><li>Main  Page</li></a></ul></ul></ul></ul></ul><li>Escompose</li><ul><a href="../../repos/escompose/index.html"><li>Main  Page</li></a><li>Components</li><ul><a href="../../repos/escompose/components/index.html"><li>Main  Page</li></a></ul><li>Libraries</li><ul><li>Escompose</li><ul><a href="../../repos/escompose/libraries/escompose/index.html"><li>Main  Page</li></a></ul><li>Escomposer</li><ul><a href="../../repos/escompose/libraries/escomposer/index.html"><li>Main  Page</li></a></ul><li>Esmonitor</li><ul><a href="../../repos/escompose/libraries/esmonitor/index.html"><li>Main  Page</li></a></ul><li>Esmpile</li><ul><a href="../../repos/escompose/libraries/esmpile/index.html"><li>Main  Page</li></a></ul></ul></ul><li>Graphscript</li><ul><a href="../../repos/graphscript/Graph.html"><li>Graph</li></a><a href="../../repos/graphscript/Service.html"><li>Service</li></a><a href="../../repos/graphscript/index.html"><li>Main  Page</li></a><li>Services</li><ul><li>Dom</li><ul><a href="../../repos/graphscript/services/dom/dom.service.html"><li>Dom.service</li></a></ul><li>Http</li><ul><a href="../../repos/graphscript/services/http/http.browser.html"><li>Http.browser</li></a><a href="../../repos/graphscript/services/http/http.node.html"><li>Http.node</li></a></ul><li>Router</li><ul><a href="../../repos/graphscript/services/router/Router.html"><li>Router</li></a></ul><li>Sse</li><ul><a href="../../repos/graphscript/services/sse/sse.browser.html"><li>Sse.browser</li></a><a href="../../repos/graphscript/services/sse/sse.node.html"><li>Sse.node</li></a></ul><li>Webrtc</li><ul><a href="../../repos/graphscript/services/webrtc/webrtc.browser.html"><li>Webrtc.browser</li></a></ul><li>Worker</li><ul><a href="../../repos/graphscript/services/worker/worker.html"><li>Worker</li></a><a href="../../repos/graphscript/services/worker/worker.service.html"><li>Worker.service</li></a></ul><li>Cmd</li><ul><a href="../../repos/graphscript/services/cmd/cmd.service.html"><li>Cmd.service</li></a></ul><li>Wss</li><ul><a href="../../repos/graphscript/services/wss/wss.browser.html"><li>Wss.browser</li></a><a href="../../repos/graphscript/services/wss/wss.node.html"><li>Wss.node</li></a></ul></ul></ul><li>NRF52</li><ul><a href="../../repos/nRF52/index.html"><li>Main  Page</li></a></ul><li>Tinybuild</li><ul><a href="../../repos/tinybuild/index.html"><li>Main  Page</li></a><li>Tinybuild</li><ul><li>Docs</li><ul><a href="../../repos/tinybuild/tinybuild/docs/esbuild.html"><li>Esbuild</li></a><a href="../../repos/tinybuild/tinybuild/docs/server.html"><li>Server</li></a><a href="../../repos/tinybuild/tinybuild/docs/python.html"><li>Python</li></a><a href="../../repos/tinybuild/tinybuild/docs/tinybuild.html"><li>Tinybuild</li></a></ul></ul></ul><li>Visualscript</li><ul><a href="../../repos/visualscript/index.html"><li>Main  Page</li></a></ul><li>Wasl</li><ul><a href="../../repos/wasl/index.html"><li>Main  Page</li></a></ul></ul><li>Resources</li><ul><a href="../../resources/Algorithms.html"><li>Algorithms</li></a><a href="../../resources/Biosignals.html"><li>Biosignals</li></a><a href="../../resources/BrainScience.html"><li>Brain Science</li></a><a href="../../resources/Electronics.html"><li>Electronics</li></a><a href="../../resources/GeneralEngineering.html"><li>General Engineering</li></a><a href="../../resources/ParticipatoryResearch.html"><li>Participatory Research</li></a><a href="../../resources/index.html"><li>Main  Page</li></a><a href="../../resources/Psychology.html"><li>Psychology</li></a><li>Hardware</li><ul><a href="../../resources/hardware/Development.html"><li>Development</li></a><a href="../../resources/hardware/ECG.html"><li>ECG</li></a><a href="../../resources/hardware/EDA.html"><li>EDA</li></a><a href="../../resources/hardware/EEG.html"><li>EEG</li></a><a href="../../resources/hardware/EIT.html"><li>EIT</li></a><a href="../../resources/hardware/EMG.html"><li>EMG</li></a><a href="../../resources/hardware/FNIRS.html"><li>FNIRS</li></a><a href="../../resources/hardware/Microscopy.html"><li>Microscopy</li></a><a href="../../resources/hardware/PPG.html"><li>PPG</li></a><a href="../../resources/hardware/index.html"><li>Main  Page</li></a></ul><li>Software</li><ul><a href="../../resources/software/Applications.html"><li>Applications</li></a><a href="../../resources/software/C++.html"><li>C++</li></a><a href="../../resources/software/Development.html"><li>Development</li></a><a href="../../resources/software/Javascript.html"><li>Javascript</li></a><a href="../../resources/software/Julia.html"><li>Julia</li></a><a href="../../resources/software/MATLAB.html"><li>MATLAB</li></a><a href="../../resources/software/Python.html"><li>Python</li></a><a href="../../resources/software/index.html"><li>Main  Page</li></a></ul></ul><li>Blog</li><ul></ul><li>Guides</li><ul><li>Examples</li><ul><a href="../examples/device.html"><li>Device</li></a><a href="../examples/phaser.html"><li>Phaser</li></a></ul><li>Getting Started</li><ul><a href="./application.html"><li>Application</li></a><a href="./blog.html"><li>Blog</li></a><a href="./component.html"><li>Component</li></a><a href="./conventions.html"><li>Conventions</li></a><a href="./installation.html"><li>Installation</li></a><a href="./realtime.html"><li>Realtime</li></a></ul><li>Proposals</li><ul><a href="../proposals/hightime.html"><li>Hightime</li></a></ul></ul></ul></div>

        <section id="brainsatplay-docs-content">
            <h1 id="your-first-application">Your First Application</h1>
<p>This tutorial is inspired by a wonderful video by <a href="https://www.youtube.com/watch?v=cuHDQhDhvPE">Fireship</a> where the same <strong>todo application</strong> is built using ten different frameworks.</p>
<blockquote>
  <p>Check out the working code for this example on the live <a href="https://brainsatplay.com/components/">WASL Components Demo</a> website.</p>
</blockquote>
<h2 id="defining-the-application-logic">Defining the Application Logic</h2>
<p>Before we get started with more Components, we'll need to determine how the information of our application should flow. </p>
<p>In general, we will input our todo item into an <code>input</code> tag. When we're ready to submit, we'll press a <code>button</code> that send this new item to the UI <code>list</code> to be displayed and the LocalStorage API to <code>store</code> as "todos" for later page reloads. When the page is reloaded, then, the LocalStorage API should <code>load</code> the previous "todos" into the <code>list</code>.</p>
<p>Translated into a WASL file, our application looks something like this:</p>
<div class="brainsatplay-docs-code"><span>index.wasl.json</span>
<pre><code>{
    "components": {
        "input": {
            "src": "./components/ui/input.js"
        },
        "button": {
            "attributes": {
                "innerHTML": "Add Todo",
                "type": "submit"
            },
            "src": "./components/ui/button.js"
        },
        "list": {
            "src": "./components/ui/ul.js"
        },
        "store": {
            "src": "./components/storage/local/set.js"
        },
        "load": {
            "arguments": {
                "key": "todos"
            },
            "src": "./components/storage/local/get.js"
        }
    },
    "listeners": {
        "input": {
            "button": true
        },
        "button": {
            "list": true
        },
        "list": {
            "store": true
        },
        "load": {
            "list": true
        },
    }
}
</code></pre></div>
<p>We can use the <code>button</code> Component we'd specified in the <a href="./component.html">previous tutorial</a>—but otherwise we'll need to define more Components from scratch!</p>
<h2 id="defining-the-components">Defining the Components</h2>
<h3 id="input">Input</h3>
<p>The <code>input</code> Component is going to be relatively similar to the <code>button</code> component—although external inputs are going to reset the current input value before being passed on.</p>
<div class="brainsatplay-docs-code"><span>input.js</span>
<pre><code>export const tagName = 'input' // Specify the HTML Element
export const attributes = {
    oninput: function (ev) {
        this.run({value: ev.target.value, _internal: true}) // Activate with new inputs
    }
}

export default function (input){
    if (input?._internal) return input.value // Pass input to linked Components
    else {
        this.element.value = input // Set the value of the input
        return input // Pass to linked Components
    }
}
</code></pre></div>
<h3 id="list">List</h3>
<p>The <code>list</code> Component, on the other hand, is going to accumulate inputs, both on the DOM and inside an Array that is passed to linked Components.</p>
<div class="brainsatplay-docs-code"><span>ul.js</span>
<pre><code>export const tagName = 'ul' // Specify the HTML Element
export const items = [] // Maintain a list of items
export default function (...args) {
    const inputs = args.flat() // Treat all arguments as single list items
    inputs.forEach(input =&gt; {
        if (typeof input === 'string'){ // Only allow strings
            const li = document.createElement('li')
            li.innerText = input
            this.element.appendChild(li) // Add list item to the DOM
            items.push(input) // Record new list item in the Array
        }
    })
    return [items]
}
</code></pre></div>
<h3 id="store">Store</h3>
<p>The <code>store</code> Component will require a basic call <strong>set the item in storage</strong> using the LocalStorage API.</p>
<div class="brainsatplay-docs-code"><span>set.js</span>
<pre><code>export default (value, key='todos') =&gt; {
    const string = JSON.stringify(value) // Parse input into a string.
    localStorage.setItem(key, string) // Store string in Local Storage.
}
</code></pre></div>
<h3 id="load">Load</h3>
<p>Similarly, the <code>load</code> Component will <strong>get the item from storage</strong> and parse it into a JavaScript object.</p>
<div class="brainsatplay-docs-code"><span>get.js</span>
<pre><code>export default (key='todos') =&gt; {
    let item = localStorage.getItem(key) // Get key from local storage.
    item = JSON.parse(item) // Parse the string into a JavaScript Object.
    return (item === null) ? undefined : item // Return values that are not null
}
</code></pre></div>
<h2 id="final-notes">Final Notes</h2>
<p>Now that you've completed all of your Components, you should be able to run the application and create your own todo lists. Huzzah!</p>
<p>In our next tutorial, we'll see how what you've learned will generalize to <a href="./realtime.html">real-time signals</a> (coming soon…).</p>
        </section>
    </div>
    <footer></footer>
</body>
</html>