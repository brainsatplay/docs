<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brains@Play Docs</title>
    <link rel=stylesheet href="./../../brainsatplay-docs/default.css"/>
    <link rel=stylesheet href="./../../static/custom.css"/>
    <link rel="icon" href="./../../static/img/favicon.ico" type="image/x-icon" />
</head>
<body>
    <div id="brainsatplay-docs">

    <header>
        <nav><h1>Brains@Play</h1></nav>
    </header>
    <div id="brainsatplay-docs-main">
        <div id="brainsatplay-docs-sidebar"><ul data-sidebar-depth=0><a href="./../../roadmap.html"><li>Home</li></a><li>Repos</li><ul data-sidebar-depth=1><a href="./../../repos/index.html"><li>Main  Page</li></a><li>Accessify</li><ul data-sidebar-depth=2><a href="./../../repos/accessify/index.html"><li>Main  Page</li></a></ul><li>Datastreams Api</li><ul data-sidebar-depth=2><a href="./../../repos/datastreams-api/index.html"><li>Main  Page</li></a></ul><li>Brainsatplay</li><ul data-sidebar-depth=2><a href="./../../repos/brainsatplay/index.html"><li>Main  Page</li></a><li>Src</li><ul data-sidebar-depth=3><li>Core</li><ul data-sidebar-depth=4><a href="./../../repos/brainsatplay/src/core/index.html"><li>Main  Page</li></a></ul></ul></ul><li>Escode</li><ul data-sidebar-depth=2><a href="./../../repos/escode/index.html"><li>Main  Page</li></a><li>Components</li><ul data-sidebar-depth=3><a href="./../../repos/escode/components/index.html"><li>Main  Page</li></a></ul><li>Apps</li><ul data-sidebar-depth=3><li>Chrome</li><ul data-sidebar-depth=4><a href="./../../repos/escode/apps/chrome/index.html"><li>Main  Page</li></a></ul></ul><li>Libraries</li><ul data-sidebar-depth=3><li>Escomposer</li><ul data-sidebar-depth=4><a href="./../../repos/escode/libraries/escomposer/index.html"><li>Main  Page</li></a></ul><li>Escode</li><ul data-sidebar-depth=4><a href="./../../repos/escode/libraries/escode/index.html"><li>Main  Page</li></a></ul><li>Esmonitor</li><ul data-sidebar-depth=4><a href="./../../repos/escode/libraries/esmonitor/index.html"><li>Main  Page</li></a></ul><li>Escompose</li><ul data-sidebar-depth=4><a href="./../../repos/escode/libraries/escompose/index.html"><li>Main  Page</li></a></ul><li>Esmpile</li><ul data-sidebar-depth=4><a href="./../../repos/escode/libraries/esmpile/index.html"><li>Main  Page</li></a></ul></ul></ul><li>Graphscript</li><ul data-sidebar-depth=2><a href="./../../repos/graphscript/Graph.html"><li>Graph</li></a><a href="./../../repos/graphscript/Service.html"><li>Service</li></a><a href="./../../repos/graphscript/index.html"><li>Main  Page</li></a><li>Services</li><ul data-sidebar-depth=3><li>Cmd</li><ul data-sidebar-depth=4><a href="./../../repos/graphscript/services/cmd/cmd.service.html"><li>Cmd.service</li></a></ul><li>Dom</li><ul data-sidebar-depth=4><a href="./../../repos/graphscript/services/dom/dom.service.html"><li>Dom.service</li></a></ul><li>Http</li><ul data-sidebar-depth=4><a href="./../../repos/graphscript/services/http/http.browser.html"><li>Http.browser</li></a><a href="./../../repos/graphscript/services/http/http.node.html"><li>Http.node</li></a></ul><li>Router</li><ul data-sidebar-depth=4><a href="./../../repos/graphscript/services/router/Router.html"><li>Router</li></a></ul><li>Sse</li><ul data-sidebar-depth=4><a href="./../../repos/graphscript/services/sse/sse.browser.html"><li>Sse.browser</li></a><a href="./../../repos/graphscript/services/sse/sse.node.html"><li>Sse.node</li></a></ul><li>Webrtc</li><ul data-sidebar-depth=4><a href="./../../repos/graphscript/services/webrtc/webrtc.browser.html"><li>Webrtc.browser</li></a></ul><li>Worker</li><ul data-sidebar-depth=4><a href="./../../repos/graphscript/services/worker/worker.html"><li>Worker</li></a><a href="./../../repos/graphscript/services/worker/worker.service.html"><li>Worker.service</li></a></ul><li>Wss</li><ul data-sidebar-depth=4><a href="./../../repos/graphscript/services/wss/wss.browser.html"><li>Wss.browser</li></a><a href="./../../repos/graphscript/services/wss/wss.node.html"><li>Wss.node</li></a></ul></ul></ul><li>NRF52</li><ul data-sidebar-depth=2><a href="./../../repos/nRF52/index.html"><li>Main  Page</li></a></ul><li>Tinybuild</li><ul data-sidebar-depth=2><a href="./../../repos/tinybuild/index.html"><li>Main  Page</li></a><li>Tinybuild</li><ul data-sidebar-depth=3><li>Docs</li><ul data-sidebar-depth=4><a href="./../../repos/tinybuild/tinybuild/docs/python.html"><li>Python</li></a><a href="./../../repos/tinybuild/tinybuild/docs/esbuild.html"><li>Esbuild</li></a><a href="./../../repos/tinybuild/tinybuild/docs/server.html"><li>Server</li></a><a href="./../../repos/tinybuild/tinybuild/docs/tinybuild.html"><li>Tinybuild</li></a></ul></ul></ul><li>Visualscript</li><ul data-sidebar-depth=2><a href="./../../repos/visualscript/index.html"><li>Main  Page</li></a></ul><li>Wasl</li><ul data-sidebar-depth=2><a href="./../../repos/wasl/index.html"><li>Main  Page</li></a></ul><li>Docs</li><ul data-sidebar-depth=2><a href="./../../repos/docs/index.html"><li>Main  Page</li></a><li>Old</li><ul data-sidebar-depth=3><li>Docs</li><ul data-sidebar-depth=4><a href="./../../repos/docs/old/docs/index.html"><li>Main  Page</li></a><li>Guides</li><ul data-sidebar-depth=5><a href="./../../repos/docs/old/docs/guides/index.html"><li>Main  Page</li></a><li>Libraries</li><ul data-sidebar-depth=6><a href="./../../repos/docs/old/docs/guides/libraries/index.html"><li>Main  Page</li></a></ul></ul><li>Resources</li><ul data-sidebar-depth=5><a href="./../../repos/docs/old/docs/resources/Biosignals.html"><li>Biosignals</li></a><a href="./../../repos/docs/old/docs/resources/BrainScience.html"><li>Brain Science</li></a><a href="./../../repos/docs/old/docs/resources/Algorithms.html"><li>Algorithms</li></a><a href="./../../repos/docs/old/docs/resources/Electronics.html"><li>Electronics</li></a><a href="./../../repos/docs/old/docs/resources/GeneralEngineering.html"><li>General Engineering</li></a><a href="./../../repos/docs/old/docs/resources/ParticipatoryResearch.html"><li>Participatory Research</li></a><a href="./../../repos/docs/old/docs/resources/Psychology.html"><li>Psychology</li></a><a href="./../../repos/docs/old/docs/resources/index.html"><li>Main  Page</li></a><li>Software</li><ul data-sidebar-depth=6><a href="./../../repos/docs/old/docs/resources/software/Applications.html"><li>Applications</li></a><a href="./../../repos/docs/old/docs/resources/software/C++.html"><li>C++</li></a><a href="./../../repos/docs/old/docs/resources/software/MATLAB.html"><li>MATLAB</li></a><a href="./../../repos/docs/old/docs/resources/software/Javascript.html"><li>Javascript</li></a><a href="./../../repos/docs/old/docs/resources/software/Python.html"><li>Python</li></a><a href="./../../repos/docs/old/docs/resources/software/Julia.html"><li>Julia</li></a><a href="./../../repos/docs/old/docs/resources/software/index.html"><li>Main  Page</li></a></ul><li>Hardware</li><ul data-sidebar-depth=6><a href="./../../repos/docs/old/docs/resources/hardware/Development.html"><li>Development</li></a><a href="./../../repos/docs/old/docs/resources/hardware/ECG.html"><li>ECG</li></a><a href="./../../repos/docs/old/docs/resources/hardware/EMG.html"><li>EMG</li></a><a href="./../../repos/docs/old/docs/resources/hardware/EEG.html"><li>EEG</li></a><a href="./../../repos/docs/old/docs/resources/hardware/EDA.html"><li>EDA</li></a><a href="./../../repos/docs/old/docs/resources/hardware/FNIRS.html"><li>FNIRS</li></a><a href="./../../repos/docs/old/docs/resources/hardware/Microscopy.html"><li>Microscopy</li></a><a href="./../../repos/docs/old/docs/resources/hardware/PPG.html"><li>PPG</li></a><a href="./../../repos/docs/old/docs/resources/hardware/index.html"><li>Main  Page</li></a></ul></ul></ul></ul></ul></ul><li>Resources</li><ul data-sidebar-depth=1><a href="./../../resources/Algorithms.html"><li>Algorithms</li></a><a href="./../../resources/Electronics.html"><li>Electronics</li></a><a href="./../../resources/BrainScience.html"><li>Brain Science</li></a><a href="./../../resources/Biosignals.html"><li>Biosignals</li></a><a href="./../../resources/GeneralEngineering.html"><li>General Engineering</li></a><a href="./../../resources/ParticipatoryResearch.html"><li>Participatory Research</li></a><a href="./../../resources/Psychology.html"><li>Psychology</li></a><a href="./../../resources/index.html"><li>Main  Page</li></a><li>Hardware</li><ul data-sidebar-depth=2><a href="./../../resources/hardware/Development.html"><li>Development</li></a><a href="./../../resources/hardware/ECG.html"><li>ECG</li></a><a href="./../../resources/hardware/EEG.html"><li>EEG</li></a><a href="./../../resources/hardware/EDA.html"><li>EDA</li></a><a href="./../../resources/hardware/EIT.html"><li>EIT</li></a><a href="./../../resources/hardware/EMG.html"><li>EMG</li></a><a href="./../../resources/hardware/FNIRS.html"><li>FNIRS</li></a><a href="./../../resources/hardware/Microscopy.html"><li>Microscopy</li></a><a href="./../../resources/hardware/PPG.html"><li>PPG</li></a><a href="./../../resources/hardware/index.html"><li>Main  Page</li></a></ul><li>Software</li><ul data-sidebar-depth=2><a href="./../../resources/software/Applications.html"><li>Applications</li></a><a href="./../../resources/software/Javascript.html"><li>Javascript</li></a><a href="./../../resources/software/C++.html"><li>C++</li></a><a href="./../../resources/software/Development.html"><li>Development</li></a><a href="./../../resources/software/Julia.html"><li>Julia</li></a><a href="./../../resources/software/MATLAB.html"><li>MATLAB</li></a><a href="./../../resources/software/index.html"><li>Main  Page</li></a><a href="./../../resources/software/Python.html"><li>Python</li></a></ul></ul><li>Blog</li><ul data-sidebar-depth=1></ul><li>Guides</li><ul data-sidebar-depth=1><li>Examples</li><ul data-sidebar-depth=2><a href="./../examples/device.html"><li>Device</li></a><a href="./../examples/phaser.html"><li>Phaser</li></a></ul><li>Getting Started</li><ul data-sidebar-depth=2><a href="./application.html"><li>Application</li></a><a href="./component.html"><li>Component</li></a><a href="./blog.html"><li>Blog</li></a><a href="./installation.html"><li>Installation</li></a><a href="./conventions.html"><li>Conventions</li></a><a href="./realtime.html"><li>Realtime</li></a></ul><li>Proposals</li><ul data-sidebar-depth=2><a href="./../proposals/hightime.html"><li>Hightime</li></a></ul></ul></ul></div>

        <section id="brainsatplay-docs-content">
            <h1 id="your-first-component">Your First Component</h1>
<p>This tutorial will guide you through the design of our generic <a href="https://github.com/brainsatplay/components/blob/main/components/ui/button.js">button</a> component.</p>
<h2 id="initialize-your-repository">Initialize your Repository</h2>
<p>Follow the steps in the <a href="./installation.html">installation</a> documentation to get started with a new WASL project.</p>
<h2 id="mockup-the-app-logic">Mockup the App Logic</h2>
<p>In the <code>index.wasl.json</code> file targeted in your project, we'll begin by outlining the behavior of our application: the creation of a button. Since we're just trying to produce a single plugin, this will be quite simple: </p>
<div class="brainsatplay-docs-code" data-filename="Code">
<pre><code>{
    "components": {
        "button": {
            "src": "./components/button.js"
        }
    }
}
</code></pre></div>
<h2 id="create-a-simple-component">Create a Simple Component</h2>
<p>After creating the expected <code>components/button.js</code> file, you'll specify the <code>tagName</code> keyword and some element <code>attributes</code> to begin working with WASL Components.</p>
<div class="brainsatplay-docs-code" data-filename="Code">
<pre><code>export const tagName = 'button' // Attach this component to a button element
export const attributes = {
    "innerText": "Click Me" // Set default text
}
</code></pre></div>
<p>If you refresh the HTML page, you'll now see that a button has been created on screen! However, it's not doing much right now. Let's see if we can pass the <code>onclick</code> event to another component. </p>
<p>To do this, we'll use the default <code>log</code> plugin provided in the <a href="./../../repos/escode">components</a> repository:</p>
<div class="brainsatplay-docs-code" data-filename="Code">
<pre><code>{
    "components": {
        "button": {
            "src": "./components/button.js"
        },
        "log": {
            "src": "https://raw.githubusercontent.com/brainsatplay/components/main/components/wasl/log.js"
        }
    }
}
</code></pre></div>
<p>To get these components to talk to each other, we'll need to define a <strong>listener</strong> that will pass the output of <code>button</code> to <code>log</code>.</p>
<div class="brainsatplay-docs-code" data-filename="Code">
<pre><code>{
    "components": {
        "button": {
            "src": "./components/button.js"
        },
        "log": {
            "src": "ttps://raw.githubusercontent.com/brainsatplay/components/main/components/wasl/log.js"
        }
    },
    "listeners": {
        "button": {
            "log": true
        }
    }
}
</code></pre></div>
<p>To get the <code>button</code> to pass information to the <code>log</code> Component, we'll need to define two more things: </p>
<ol>
<li>A default function used by <code>button</code> when it is triggered internally or by another Component</li>
<li>An <code>onmousedown</code> event that internally triggers this default function when the mouse has been pressed</li>
</ol>
<p>Thankfully, the underlying logic framework for WASL (<a href="./../../repos/graphscript">grpahscript</a>) already assigns a basic default function for us:</p>
<div class="brainsatplay-docs-code" data-filename="Code">
<pre><code>export default (input) =&gt; input // This default function is specified by graphscript and will forward any input to this Component to any linked Components.
</code></pre></div>
<p>However, we still need to manually trigger this function with an <code>onmousedown</code> event:</p>
<div class="brainsatplay-docs-code" data-filename="Code">
<pre><code>//  ...
export const attributes = {
    "innerHTML": "Click Me"
    onmousedown: function () {
        this.run(true) // Run the default function of the WASL Component
        const onMouseUp = () =&gt; {
            this.run(false) // Notify when the mouse has been released
            globalThis.removeEventListener('mouseup', onMouseUp) // Stop monitoring for the mouseup event
        }
        globalThis.addEventListener('mouseup', onMouseUp) // Monitor when the user releases the mouse
    }
}
//  ...
</code></pre></div>
<p>At this point, you should be able to click on the button and get its state to print to the Developer Console!</p>
<p>And with that, we have a ready-to-use <code>button</code> component for anyone using the Brains@Play Framework!</p>
<h2 id="further-considerations">Further Considerations</h2>
<h3 id="changing-default-properties">Changing Default Properties</h3>
<p>In many cases, the end-user of your Component would like to customize certain aspects of it for their application. For instance, I might want my button to say <code>Submit Form</code> rather than the default <code>Click Me</code> text we have defined here. </p>
<p>To override any property of a Component, you can simply declare that property in the associated WASL file:</p>
<div class="brainsatplay-docs-code" data-filename="Code">
<pre><code>{
    "components": {
        "button": {
            "attributes": {
                "innerText": "Submit Form"
            },
            "src": "./components/button.js"
        },
        "log": {
            "src": "ttps://raw.githubusercontent.com/brainsatplay/components/main/components/wasl/log.js"
        }
    },
    "listeners": {
        "button": {
            "log": true
        }
    }
}
</code></pre></div>
<h3 id="storing-a-passed-value">Storing a Passed Value</h3>
<p>In many cases, a user will want to use a button to <strong>submit</strong> a selected item. In this case, it would be useful for the <code>button</code> to store the last value passed to it. </p>
<p>For this to happen, however, we'll need to discriminate between internal <strong>trigger</strong> events and external <strong>set</strong> events:</p>
<div class="brainsatplay-docs-code" data-filename="Code">
<pre><code>// ...
export const attributes = {
    "innerHTML": "Click Me",
    onmousedown: function () {
        this.run({value: true, _internal: true}) // Pass the value of the command with an _internal flag
        const onMouseUp = () =&gt; {
            this.run({value: false, _internal: true})
            globalThis.removeEventListener('mouseup', onMouseUp)
        }
        globalThis.addEventListener('mouseup', onMouseUp)
    }
}

export let cache = null // Store the last value passed to the Component

export default function (input){

    const value = input?.value ?? input // Grab the passed value
    const isInternal = input?._internal // Check if the input was internal or external

    // Pass the cached value for the Component when it is pressed
    if (isInternal) {
        if (this.cache) {
            if (value) return this.cache // Establish a new behavior where the cahched value is returned when the button is pressed
        } else return value // Maintain previous behavior by notifying when the button is (un)pressed.
    }

    // Set the cache with external values
    else if (value) this.cache = value
}
</code></pre></div>
<p>With these changes, our <code>button</code> Component can now be used for more use-cases!</p>
<hr />
<p>In the next section, we'll <a href="./application.html">develop a simple todo app</a> using this <code>button</code> Component.</p>
<p><em>coming soon</em></p>
        </section>
    </div>
    <footer></footer>
    </div>
</body>
</html>